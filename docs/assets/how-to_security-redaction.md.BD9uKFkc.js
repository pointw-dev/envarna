import{_ as i,c as a,o as e,al as t}from"./chunks/framework.DYoXd6M_.js";const c=JSON.parse('{"title":"Security & redaction","description":"","frontmatter":{"head":[["link",{"rel":"canonical","href":"https://pointw-dev.github.io/envarna/how-to/security-redaction.html"}]]},"headers":[],"relativePath":"how-to/security-redaction.md","filePath":"how-to/security-redaction.md"}'),n={name:"how-to/security-redaction.md"};function l(h,s,r,p,o,d){return e(),a("div",null,s[0]||(s[0]=[t(`<h1 id="security-redaction" tabindex="-1">Security &amp; redaction <a class="header-anchor" href="#security-redaction" aria-label="Permalink to &quot;Security &amp; redaction&quot;">​</a></h1><h2 id="mark-secrets" tabindex="-1">Mark secrets <a class="header-anchor" href="#mark-secrets" aria-label="Permalink to &quot;Mark secrets&quot;">​</a></h2><p>Use <code>@secret()</code> on fields that contain sensitive values (passwords, tokens).</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DbSettings</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @setting.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">secret</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  connectionString</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;mongodb://...&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="safe-json-dumps" tabindex="-1">Safe JSON dumps <a class="header-anchor" href="#safe-json-dumps" aria-label="Permalink to &quot;Safe JSON dumps&quot;">​</a></h2><p><code>BaseSettings.toJSON()</code> redacts secret fields as <code>&#39;****&#39;</code>. Therefore dumping the <code>settings</code> object is safe for logging:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(settings, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre></div><h2 id="caveats" tabindex="-1">Caveats <a class="header-anchor" href="#caveats" aria-label="Permalink to &quot;Caveats&quot;">​</a></h2><ul><li>Redaction is for JSON dumps; code can still read and print the raw secret. Treat secrets with care in application logs.</li><li>Consider environment separation and minimal privileges for secret stores.</li></ul>`,9)]))}const g=i(n,[["render",l]]);export{c as __pageData,g as default};
